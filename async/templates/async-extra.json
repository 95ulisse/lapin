{
  "connection": {
    "start-ok": {
      "metadata": {
        "extra_args": [
          {
            "name": "wait_handle",
            "type": "WaitHandle<Connection>"
          }
        ],
        "end_hook": {
          "params": ["wait_handle"]
        }
      }
    },
    "open": {
      "metadata": {
        "internal": true,
        "bypass_wait_handle": true,
        "extra_args": [
          {
            "name": "wait_handle",
            "type": "WaitHandle<Connection>"
          }
        ],
        "end_hook": {
          "params": ["wait_handle"]
        }
      }
    },
    "close": {
      "metadata": {
        "end_hook": true
      }
    },
    "close-ok": {
      "metadata": {
        "channel_deinit": true,
        "received_hook": true,
        "end_hook": true
      }
    },
    "secure": {
      "metadata": {
        "skip": true
      }
    },
    "secure-ok": {
      "metadata": {
        "skip": true
      }
    }
  },
  "channel": {
    "open": {
      "metadata": {
        "internal": true,
        "channel_init": true,
        "confirmation": {
          "type": "Channel"
        }
      }
    },
    "open-ok": {
      "metadata": {
        "channel_init": true
      }
    },
    "close": {
      "metadata": {
        "end_hook": true
      }
    },
    "close-ok": {
      "metadata": {
        "channel_deinit": true,
        "received_hook": true,
        "end_hook": true
      }
    },
    "flow": {
      "metadata": {
        "confirmation": {
          "type": "Boolean"
        }
      }
    },
    "flow-ok": {
      "metadata": {
        "confirmation": {
          "type": "()"
        }
      }
    }
  },
  "confirm": {
    "select-ok": {
      "metadata": {
        "received_hook": true
      }
    }
  },
  "queue": {
    "declare": {
      "metadata": {
        "confirmation": {
          "type": "Queue"
        },
        "nowait_hook": {
          "fields": ["queue: queue.into()"]
        }
      }
    },
    "delete": {
      "metadata": {
        "state": [
          {
            "name": "queue",
            "type": "ShortString",
            "use_str_ref": true
          }
        ],
        "confirmation": {
          "type": "LongUInt"
        },
        "nowait_hook": true
      }
    },
    "purge": {
      "metadata": {
        "confirmation": {
          "type": "LongUInt"
        }
      }
    }
  },
  "basic": {
    "consume": {
      "metadata": {
        "require_wrapper": true,
        "extra_args": [
          {
            "name": "subscriber",
            "type": "Box<dyn ConsumerSubscriber>"
          }
        ],
        "state": [
          {
            "name": "queue",
            "type": "ShortString",
            "use_str_ref": true
          },
          {
            "name": "no_local",
            "type": "bool"
          },
          {
            "name": "no_ack",
            "type": "bool"
          },
          {
            "name": "exclusive",
            "type": "bool"
          },
          {
            "name": "subscriber",
            "type": "Box<dyn ConsumerSubscriber>"
          }
        ],
        "confirmation": {
          "type": "ShortString"
        },
        "nowait_hook": {
          "fields": ["consumer_tag: consumer_tag.into()"]
        }
      }
    },
    "cancel": {
      "metadata": {
        "nowait_hook": {
          "fields": ["consumer_tag: consumer_tag.into()"]
        }
      }
    },
    "publish": {
      "metadata": {
        "priority": "LOW",
        "extra_args": [
          {
            "name": "payload",
            "type": "Vec<u8>"
          },
          {
            "name": "properties",
            "type": "BasicProperties"
          }
        ],
        "end_hook": {
          "override_send_res": true,
          "params": ["60", "payload", "properties"]
        }
      }
    },
    "get": {
      "metadata": {
        "confirmation": {
          "type": "Option<BasicGetMessage>"
        },
        "state": [
          {
            "name": "queue",
            "type": "ShortString",
            "use_str_ref": true
          }
        ]
      }
    },
    "ack": {
      "metadata": {
        "end_hook": {
          "params": ["multiple", "delivery_tag"]
        }
      }
    },
    "recover-async": {
      "metadata": {
        "end_hook": true
      }
    },
    "recover-ok": {
      "metadata": {
        "received_hook": true
      }
    },
    "nack": {
      "metadata": {
        "end_hook": {
          "params": ["multiple", "delivery_tag"]
        }
      }
    }
  }
}
